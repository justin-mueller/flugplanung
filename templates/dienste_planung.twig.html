{% include('partials/saison.twig.html') %}

<style>
	#diensteHistory {
		table-layout: fixed;
		width: 100%;
		font-size: smaller;
		font-weight: normal;
	}
	#diensteHistory th,
	#diensteHistory td {
		font-size: smaller;
		font-weight: normal;
	}
	#diensteHistory tbody td {
		white-space: nowrap;
		vertical-align: middle;
	}
	#diensteHistory th:first-child,
	#diensteHistory td:first-child {
		width: 30%;
	}
	#diensteHistory .dienste-name {
		overflow: hidden;
		text-overflow: ellipsis;
	}

	/* Align option cells to top */
	[id^="Optionen_"] {
		vertical-align: top;
	}
</style>

<div class="card mb-3">
	<div class="card-header">
		<h4 class="mb-0 fw-bold">Auswertung ab Datum</h4>
	</div>
	<div class="card-body">
		<div class="d-flex flex-wrap align-items-end gap-2">
			<div>
				<label for="historyStartDate" class="form-label mb-0">Start</label>
				<input type="date" id="historyStartDate" class="form-control">
			</div>
			<div>
				<label for="historyEndDate" class="form-label mb-0">Ende</label>
				<input type="date" id="historyEndDate" class="form-control">
			</div>
			<button class="btn btn-secondary" id="historyRangeApply">Zeitraum anwenden</button>
		</div>
	</div>
</div>

<div class="row">
	<div class="col-lg-6 col-12 mb-3">
		<div class="card">
			<div class="card-body p-0">
				<table id="diensteHistory" class="table table-striped mb-0">
					<thead>
						<tr>
							<th>Name</th>
							<th>Dienste<br>eingetragen<br><span class="history-range-before-label"></span></th>
							<th>Davon an Flugtagen<br>mit Betrieb<br><span class="history-range-before-label"></span></th>
							<th>Dienste<br>eingetragen<br><span class="history-range-label"></span></th>
							<th>Davon an Flugtagen<br>mit Betrieb<br><span class="history-range-label"></span></th>
							<th>Geflogen an Flugtagen<br>mit Betrieb<br><span class="history-range-before-label"></span><br>(Faktor -0.2)</th>
							<th>Gesamtpunkte</th>
						</tr>
					</thead>
					<tbody></tbody>
				</table>
			</div>
		</div>
	</div>

	<div class="col-lg-6 col-12">
		<div class="card">
			<div class="card-body p-0">
				<table class="table mb-0" style="font-size: smaller;">
					<thead>
						<tr>
							<th>Date</th>
						</tr>
					</thead>
					<tbody id="table-body-dashboard"></tbody>
				</table>
			</div>
		</div>
		<div class="mt-3">
			<button class="btn btn-primary ui-button" id="saveButton" onclick="saveDienste()">Speichern</button>
		</div>
	</div>
</div>